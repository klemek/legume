<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>ü•¶ L√©gume</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="material-colors.css" />
  <script src="https://unpkg.com/lucide@0"></script>
  <script type="importmap">
      {
        "imports": {
          "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
        }
      }
    </script>
  <script type="module" src="main.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta property="og:title" content="ü•¶ L√©gume">
  <meta property="og:description" content="üßÖ VJ Table Generator ü•ï">
  <meta property="org:url" content="https://klemek.github.io/legume/">
</head>

<body>
  <main id="app" style="display: none">
    <h1>
      {{vegetable}} L√©gume
    </h1>
    <table class="config">
      <colgroup>
        <col style="width: 25%">
        <col>
        <col style="width: 25%">
      </colgroup>
      <tr>
        <td><label for="start-time">Start time:</label></td>
        <td><input v-model="config.startTime" id="start-time" type="time" /></td>
      </tr>
      <tr>
        <td><label for="end-time">End time:</label></td>
        <td><input v-model="config.endTime" id="end-time" type="time" /></td>
        <td>Total: {{getTime(totalDuration)}}</td>
      </tr>
      <tr>
        <td><label for="duration">Slot duration:</label></td>
        <td><input v-model="config.duration" id="duration" type="range" min="5" v-bind:max="totalDuration" step="5" />
        </td>
        <td>
          <span v-if="(totalDuration / config.duration) < candidates.length" title="slot duration might be too big">
            <i icon="triangle-alert"></i> {{config.duration}} minutes
          </span>
          <span v-else>
            {{config.duration}} minutes
          </span>
        </td>
      </tr>
      <tr>
        <td><label for="seed">Seed:</label></td>
        <td><input v-model="config.seed" type="number" /></td>
        <td><button @click="newSeed"><i icon="dices"></i></button></td>
      </tr>
      <tr>
        <td><label for="mix">Mix policy:</label></td>
        <td><select id="mix" v-model="config.mix">
            <option value="0">(0%) No mixes</option>
            <option value="25">(~25%) Some mixes</option>
            <option value="50">(~50%) Half mixes</option>
            <option value="75">(~75%) A lot of mixes </option>
            <option value="100">(~100%) Only mixes</option>
          </select></td>
      </tr>
      <tr>
        <td><label for="candidates">Candidates:</label></td>
        <td><textarea v-model="config.candidates" id="candidates" rows="8"></textarea></td>
        <td>
          <span v-if="candidates.length <= 2" title="not enough candidates">
            <i icon="triangle-alert"></i> <i icon="users-round"></i> {{candidates.length}}
          </span>
          <span v-else>
            <i icon="users-round"></i> {{candidates.length}}
          </span>
        </td>
      </tr>
      <tr>
        <td></td>
        <td>
          <button class="full" title="Ends event with all candidates (aka salad)"
            @click="config.endWithAll = !config.endWithAll">ü•ó With salad: {{
            config.endWithAll ? '‚úÖ' : '‚ùå' }}</button>
        </td>
      </tr>
    </table>
    <template v-if="table.length">
      <h2>Output Table</h2>
      <table class="output">
        <colgroup>
          <col style="width: 25%">
          <col>
        </colgroup>
        <tr v-for="row in table">
          <td v-for="item in row">{{item}}</td>
        </tr>
      </table>
    </template>
    <h2 v-else>Add more vegetables !</h2>
    <br />
    <small class="footer">
      <i icon="at-sign"></i>&nbsp;<a href="https://github.com/klemek" target="_blank">klemek</a>
      -
      <i icon="github"></i>&nbsp;<a href="https://github.com/klemek/legume" target="_blank">Repository</a>
      - 2025
    </small>
  </main>
</body>

</html>